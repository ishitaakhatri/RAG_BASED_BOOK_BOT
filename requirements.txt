# ============================================================================
# RAG BASED BOOK BOT - REQUIREMENTS
# Fixed for Windows DLL compatibility and dependency conflicts
# ============================================================================

# --- INSTALLATION ORDER MATTERS ---
# Install PyTorch FIRST with CPU-only to avoid DLL conflicts
--extra-index-url https://download.pytorch.org/whl/cpu
torch==2.2.2+cpu
torchvision==0.17.2+cpu
torchaudio==2.2.2+cpu

# --- CORE FRAMEWORK ---
streamlit==1.38.0
python-dotenv==1.0.1

# --- EMBEDDINGS & TRANSFORMERS ---
# These depend on PyTorch, so install AFTER PyTorch
sentence-transformers==2.7.0
transformers==4.44.2

# --- VECTOR DATABASE ---
pinecone-client==4.1.0

# --- LLM API CLIENTS ---
openai==1.40.0
groq==0.8.0
anthropic==0.34.0

# --- UTILITIES ---
tqdm==4.66.4
requests==2.32.3
numpy>=1.26.0,<2.0.0  # Compatible with unstructured, streamlit, pandas, transformers
pandas==2.2.2
protobuf>=3.20,<6.0.0
tiktoken==0.8.0

# --- PDF PROCESSING ---
PyPDF2==3.0.1
pdfplumber==0.11.4
pillow>=9.1.0,<11.0.0
unstructured[pdf]==0.15.13

# --- VECTOR DATABASE (LOCAL, CPU-SAFE) ---
faiss-cpu==1.8.0

# --- ADDITIONAL DEPENDENCIES FOR SENTENCE-TRANSFORMERS ---
scikit-learn==1.5.0
scipy==1.13.0
huggingface-hub==0.24.0
tokenizers==0.19.1

# --- ADDITIONAL DEPENDENCIES FOR UNSTRUCTURED (Windows) ---
python-magic-bin==0.4.14; sys_platform == 'win32'